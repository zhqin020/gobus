# **公交信息查询 App \- 产品需求文档 (PRD)**

版本: 1.0  
日期: 2025年6月30日

## **1\. 产品概述**

### **1.1. 简介**

本 App 旨在为多伦多 (TTC) 和温哥华 (TransLink) 的居民和游客提供一款简洁、高效的公交信息查询工具。用户可以通过线路编号或名称快速查询公交、地铁、有轨电车等公共交通工具的时刻表、站点信息、换乘方案和实时到站信息。本 App 的核心优势在于其直观的线路号查询功能、强大的离线数据支持以及清晰的数据可视化。

### **1.2. 目标用户**

* 常驻多伦多和温哥华，依赖公共交通出行的上班族和学生。  
* 到访这两个城市的游客，需要快速了解当地公交系统。  
* 习惯通过线路号查询公交信息的用户。

### **1.3. 核心功能**

* **线路查询**: 支持通过公交或地铁线路编号/名称进行搜索。  
* **站点与时刻表**: 显示线路的所有站点、首末班车时间以及详细的时刻表。  
* **地图可视化**: 在地图上直观展示线路走向、站点分布和车辆实时位置。  
* **到站提醒**: 提供精准的实时到站时间预测。  
* **离线支持**: 支持离线查看线路、站点和时刻表信息。  
* **多语言支持**: 支持英语和法语。

## **2\. 功能规格**

### **2.1. 主页/首页 (Home)**

主页是 App 的起点，集成了核心功能的入口，并基于用户地理位置提供附近线路的实时信息。

* **\[地图预览\]**: 顶部显示用户当前位置的微缩地图。  
* **\[搜索框\]**: 核心交互元素，引导用户输入线路编号或名称进行查询。旁边设有“行程规划”的快捷入口。  
* **\[附近线路\]**: 根据用户当前位置，以列表形式展示附近公交线路的实时到站信息。  
  * 每项包含线路编号、终点站方向、下一班车的预计到达时间。  
  * 点击列表项可直接进入线路详情页。  
* **\[收藏夹\]**: (未来功能) 用户可以收藏常用线路，并在主页快速访问。

### **2.2. 搜索功能 (Search)**

搜索是本 App 的核心查询方式，旨在提供快速、准确的线路查找体验。

* **\[输入与联想\]**: 用户输入线路编号（如 "119", "501"）或名称（如 "Expo Line"）时，系统会实时显示匹配的线路和站点作为搜索建议。  
* **\[搜索结果\]**: 搜索结果清晰地分为“线路”和“站点与车站”两个类别。  
* **\[历史记录\]**: 自动保存用户的近期搜索历史，方便快速再次查询。  
* **\[方向切换\]**: 在线路详情页，用户可以轻松切换不同的行车方向，以查看对应的站点和时刻表。

### **2.3. 线路详情页 (Route Details)**

当用户选择一条线路后，将进入该线路的详情页，该页面结合了地图和列表两种视图，全面展示线路信息。

* **\[地图视图\]**:  
  * 在页面上半部分，地图会高亮显示整条线路的走向。  
  * 公交或地铁车辆的图标会根据实时数据在地图上移动，并显示预计下一站的到达时间。  
  * 用户可以点击地图上的站点图标，查看该站点的名称和实时到站信息。  
  * 提供服务变更或延误的实时警报信息。  
* **\[列表视图\]**:  
  * 在页面下半部分，以垂直时间轴的形式列出该线路方向的所有站点。  
  * 清晰展示每个站点的名称、预计到达时间以及可换乘的其他线路信息。  
  * 用户当前所在的站点或选择的站点会被高亮显示。

### **2.4. 站点详情与到站时间 (Stop Details & Arrival Times)**

当用户在列表或地图上选择一个具体站点时，可以查看该站点的详细到站信息。

* **\[到站信息\]**:  
  * 清晰列出即将到达本站的后续几班车次的预计时间（例如，“5分钟”、“14:35”）。  
  * 对于实时数据不可用的情况，则显示静态时刻表上的预定时间。  
* **\[多线路显示\]**: 如果一个站点有多条线路经过，用户可以方便地切换查看不同线路的到站信息。  
* **\[服务提醒\]**：如果该站点有临时的服务调整，会在显著位置显示提醒信息。

### **2.5. 离线功能**

* **\[数据缓存\]**: App 会自动在本地缓存公交和地铁的线路、站点和时刻表数据。  
* **\[离线模式\]**: 当设备没有网络连接时，App 会自动切换到离线模式，用户仍然可以查询所有已缓存的静态数据。地图功能在离线状态下将受限，但已缓存的区域可以查看。

### **2.6. 非功能性需求**

* **\[性能\]**: 应用启动时间应在2秒以内，界面滚动流畅，数据请求响应迅速。  
* **\[兼容性\]**: 支持 Android 8.0 及以上版本的设备。  
* **\[数据来源\]**: 明确标注数据由 TTC 和 TransLink 授权提供，并遵守其数据使用协议。  
* **\[隐私\]**: 除了定位权限（可选）外，不收集任何用户个人数据，并提供清晰的隐私政策。

## **3\. 未来迭代方向**

* **\[行程规划\]**: 引入 A 到 B 的智能行程规划功能，综合考虑多种交通方式。  
* **\[收藏功能\]**: 允许用户收藏常用线路和站点，方便在主页快速访问。  
* **\[到站提醒\]**: 提供下车提醒功能，当用户接近目的地时发出通知。  
* **\[城市扩展\]**: 将服务扩展到更多城市，如蒙特利尔 (STM)。  
* **\[无障碍功能\]**: 优化视觉和操作，为有特殊需求的用户提供更好的辅助功能支持。